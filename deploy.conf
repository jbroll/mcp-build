#!/bin/bash
# MCP Build Service Deployment Configuration
#
export DEPLOY_TYPES="apache binary_service"

export APP_NAME="mcp-build"

# Domain name for Apache ServerName and SSL certificates
export DOMAIN_NAME="symon.rkroll.com"

# Remote server connection
export REMOTE_HOST="symon.rkroll.com"
export REMOTE_USER="john"

export DEPLOY_TYPES="letsencrypt apache binary_service"
export LETSENCRYPT_EMAIL="john@rkroll.com"

export BINARY_SERVICE_PORT="3344"

export BINARY_SERVICE_USER="john"
export BINARY_SERVICE_GROUP="john"
export BINARY_SERVICE_BINARY_NAME="mcp-build"

export BINARY_SERVICE_WORK_DIR="/home/john/src"

export BINARY_SERVICE_RESTART_POLICY="always"
export BINARY_SERVICE_RESTART_SEC="10"

export APACHE_MODE="proxy"
export APACHE_PROXY_BACKEND_PORT="3344"
export APACHE_PROXY_BACKEND_HOST="127.0.0.1"

# =============================================================================
# MCP Build Service Environment Variables
# =============================================================================
# These will be written to /etc/mcp-build/secrets.env on the remote server

export MCP_BUILD_TRANSPORT="http"
export MCP_BUILD_HOST="127.0.0.1"
export MCP_BUILD_PORT="3344"
export MCP_BUILD_SESSION_KEY="CHANGE_ME_TO_SECURE_RANDOM_KEY"

# Directory containing repositories to build
# This should point to where your repositories are on the remote server
export MCP_BUILD_REPOS_DIR="/var/lib/mcp-build/repos"

